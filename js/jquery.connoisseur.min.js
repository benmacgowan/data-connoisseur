"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e){var t={init:function(t,n){var r=this;r.elem=n,r.$elem=e(n),r.options=e.extend({},e.fn.connoisseur.options,t),r.$dataInput=r.$elem.find(r.options.dataInput),r.$templateInput=r.$elem.find(r.options.templateInput).allowTabChar(),r.$resultOutput=r.$elem.find(r.options.resultOutput),r.$templateInput.val("{{#each rows}}\n{{/each}}").keyup(function(){r.updateTemplate()}),r.$templateInput.after('<script id="template" type="text/x-handlebars-template">{{#each rows}}\n{{/each}}</script>'),r.$template=e("script#template"),r.$elem.submit(function(e){r.convertData(),e.preventDefault()})},updateTemplate:function(){var e=this;e.$template.html(e.$templateInput.val())},convertData:function(){var e=this;e.removeFeedback("p.success",e.$resultOutput);var t=e.$dataInput.val(),n="",r=e.options.indent,s=e.options.newLine;if(t.length>0){e.options.includeWhiteSpace||(r="",s=""),CSVParser.resetLog();var a=CSVParser.parse(t,e.options.headersProvided,e.options.delimiter,e.options.downcaseHeaders,e.options.upcaseHeaders),i=a.dataGrid,o=a.headerNames,c=a.headerTypes,u=a.errors;n=DataGridRenderer[e.options.outputDataType](i,o,c,r,s),""!=u?e.displayError(u,e.$dataInput):(e.removeFeedback("ul.error",e.$dataInput),e.generateHTML(n))}else e.displayError("<li>Please enter some data and try again</li>",e.$dataInput)},generateHTML:function(e){var t=this,n=t.$template.html().replace("{{#each rows}}\n","{{#each rows}}").replace("{{#each rows}}	","{{#each rows}}").replace("{{/each}}\n","{{/each}}").replace("{{/each}}	","{{/each}}"),r=Handlebars.compile(n),s={rows:JSON.parse(e)},a=r(s);t.$resultOutput.val(a),t.displaySuccess("Success! Your HTML was generated below.",t.$resultOutput)},displayError:function(t,n){var r=this;r.removeFeedback("ul.error",n),r.options.fieldWrapper===!1?n.before('<ul class="error">'+t+"</ul>"):n.parent().before('<ul class="error">'+t+"</ul>"),e("html, body").animate({scrollTop:e("ul.error").closest("fieldset").offset().top},1e3)},displaySuccess:function(t,n){var r=this;r.removeFeedback("p.success",n),r.options.fieldWrapper===!1?n.before('<p class="success">'+t+"</p>"):n.parent().before('<p class="success">'+t+"</p>"),e("html, body").animate({scrollTop:e("p.success").closest("fieldset").offset().top},1e3)},removeFeedback:function(e,t){var n=this;n.options.fieldWrapper===!1?t.prev(e).remove():t.parent().prev(e).remove()}};e.fn.connoisseur=function(n){return this.each(function(){var r=Object.create(t);r.init(n,this),e.data(this,"connoisseur",r)})},e.fn.connoisseur.options={dataInput:"#data",templateInput:"#template",resultOutput:"#result",outputDataType:"json",delimiter:"auto",columnDelimiter:"	",rowDelimiter:"\n",newLine:"\n",indent:"  ",headersProvided:!0,downcaseHeaders:!0,upcaseHeaders:!1,includeWhiteSpace:!0,useTabsForIndent:!1,fieldWrapper:!1}}(jQuery,window,document),function(e){function t(e,t){if(e.focus(),"number"==typeof e.selectionStart){var n=e.value,r=e.selectionStart;e.value=n.slice(0,r)+t+n.slice(e.selectionEnd),e.selectionEnd=e.selectionStart=r+t.length}else if("undefined"!=typeof document.selection){var s=document.selection.createRange();s.text=t,s.collapse(!1),s.select()}}function n(n){e(n).keydown(function(e){return 9==e.which?(t(this,"	"),!1):void 0}),e(n).keypress(function(e){return 9==e.which?!1:void 0})}e.fn.allowTabChar=function(){return this.jquery&&this.each(function(){if(1==this.nodeType){var e=this.nodeName.toLowerCase();("textarea"==e||"input"==e&&"text"==this.type)&&n(this)}}),this}}(jQuery),Handlebars.registerHelper("ifCond",function(e,t,n,r){switch(t){case"==":return e==n?r.fn(this):r.inverse(this);case"===":return e===n?r.fn(this):r.inverse(this);case"<":return n>e?r.fn(this):r.inverse(this);case"<=":return n>=e?r.fn(this):r.inverse(this);case">":return e>n?r.fn(this):r.inverse(this);case">=":return e>=n?r.fn(this):r.inverse(this);case"&&":return e&&n?r.fn(this):r.inverse(this);case"||":return e||n?r.fn(this):r.inverse(this);default:return r.inverse(this)}});