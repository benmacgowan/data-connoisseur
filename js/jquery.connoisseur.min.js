"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e){var t={init:function(t,a){var n=this;n.elem=a,n.$elem=e(a),n.options=e.extend({},e.fn.connoisseur.options,t),n.$dataInput=n.$elem.find(n.options.dataInput),n.$templateInput=n.$elem.find(n.options.templateInput).allowTabChar(),n.$resultOutput=n.$elem.find(n.options.resultOutput),n.$templateInput.val("{{#each rows}}\n{{/each}}").keyup(function(){n.updateTemplate()}),n.$templateInput.after('<script id="template" type="text/x-handlebars-template">{{#each rows}}\n{{/each}}</script>'),n.$template=e("script#template"),n.$elem.submit(function(e){n.convertData(),e.preventDefault()})},updateTemplate:function(){var e=this;e.$template.html(e.$templateInput.val())},convertData:function(){var e=this;e.removeFeedback("p.success",e.$resultOutput);var t=e.$dataInput.val(),a="",n=e.options.indent,r=e.options.newLine;if(t.length>0){e.options.includeWhiteSpace||(n="",r=""),CSVParser.resetLog();var o=CSVParser.parse(t,e.options.headersProvided,e.options.delimiter,e.options.downcaseHeaders,e.options.upcaseHeaders),s=o.dataGrid,i=o.headerNames,p=o.headerTypes,c=o.errors;a=DataGridRenderer[e.options.outputDataType](s,i,p,n,r),""!=c?e.displayError(c,e.$dataInput):(e.removeFeedback("ul.error",e.$dataInput),e.generateHTML(a))}else e.displayError("<li>Please enter some data and try again</li>",e.$dataInput)},generateHTML:function(e){var t=this,a=t.$template.html().replace("{{#each rows}}\n","{{#each rows}}").replace("{{#each rows}}	","{{#each rows}}").replace("{{/each}}\n","{{/each}}").replace("{{/each}}	","{{/each}}"),n=Handlebars.compile(a),r={rows:JSON.parse(e)},o=n(r);t.$resultOutput.val(o),t.displaySuccess("Success! Your HTML was generated below.",t.$resultOutput)},displayError:function(t,a){var n=this;n.removeFeedback("ul.error",a),n.options.fieldWrapper===!1?a.before('<ul class="error">'+t+"</ul>"):a.parent().before('<ul class="error">'+t+"</ul>"),e("html, body").animate({scrollTop:e("ul.error").closest("fieldset").offset().top},1e3)},displaySuccess:function(t,a){var n=this;n.removeFeedback("p.success",a),n.options.fieldWrapper===!1?a.before('<p class="success">'+t+"</p>"):a.parent().before('<p class="success">'+t+"</p>"),e("html, body").animate({scrollTop:e("p.success").closest("fieldset").offset().top},1e3)},removeFeedback:function(e,t){var a=this;a.options.fieldWrapper===!1?t.prev(e).remove():t.parent().prev(e).remove()}};e.fn.connoisseur=function(a){return this.each(function(){var n=Object.create(t);n.init(a,this),e.data(this,"connoisseur",n)})},e.fn.connoisseur.options={dataInput:"#data",templateInput:"#template",resultOutput:"#result",outputDataType:"json",delimiter:"auto",columnDelimiter:"	",rowDelimiter:"\n",newLine:"\n",indent:"  ",headersProvided:!0,downcaseHeaders:!0,upcaseHeaders:!1,includeWhiteSpace:!0,useTabsForIndent:!1,fieldWrapper:!1}}(jQuery,window,document),function(e){function t(e,t){if(e.focus(),"number"==typeof e.selectionStart){var a=e.value,n=e.selectionStart;e.value=a.slice(0,n)+t+a.slice(e.selectionEnd),e.selectionEnd=e.selectionStart=n+t.length}else if("undefined"!=typeof document.selection){var r=document.selection.createRange();r.text=t,r.collapse(!1),r.select()}}function a(a){e(a).keydown(function(e){return 9==e.which?(t(this,"	"),!1):void 0}),e(a).keypress(function(e){return 9==e.which?!1:void 0})}e.fn.allowTabChar=function(){return this.jquery&&this.each(function(){if(1==this.nodeType){var e=this.nodeName.toLowerCase();("textarea"==e||"input"==e&&"text"==this.type)&&a(this)}}),this}}(jQuery);